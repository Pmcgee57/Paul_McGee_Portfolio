<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">

<head>

<meta charset="utf-8" />
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="generator" content="pandoc" />
<meta http-equiv="X-UA-Compatible" content="IE=EDGE" />


<meta name="author" content="Paul McGee" />


<title>Scouting an Athletics Team</title>

<script src="site_libs/jquery-1.11.3/jquery.min.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link href="site_libs/bootstrap-3.3.5/css/yeti.min.css" rel="stylesheet" />
<script src="site_libs/bootstrap-3.3.5/js/bootstrap.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/html5shiv.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/respond.min.js"></script>
<script src="site_libs/navigation-1.1/tabsets.js"></script>
<link href="site_libs/highlightjs-9.12.0/textmate.css" rel="stylesheet" />
<script src="site_libs/highlightjs-9.12.0/highlight.js"></script>

<style type="text/css">code{white-space: pre;}</style>
<style type="text/css">
  pre:not([class]) {
    background-color: white;
  }
</style>
<script type="text/javascript">
if (window.hljs) {
  hljs.configure({languages: []});
  hljs.initHighlightingOnLoad();
  if (document.readyState && document.readyState === "complete") {
    window.setTimeout(function() { hljs.initHighlighting(); }, 0);
  }
}
</script>



<style type="text/css">
h1 {
  font-size: 34px;
}
h1.title {
  font-size: 38px;
}
h2 {
  font-size: 30px;
}
h3 {
  font-size: 24px;
}
h4 {
  font-size: 18px;
}
h5 {
  font-size: 16px;
}
h6 {
  font-size: 12px;
}
.table th:not([align]) {
  text-align: left;
}
</style>




<style type = "text/css">
.main-container {
  max-width: 940px;
  margin-left: auto;
  margin-right: auto;
}
code {
  color: inherit;
  background-color: rgba(0, 0, 0, 0.04);
}
img {
  max-width:100%;
}
.tabbed-pane {
  padding-top: 12px;
}
.html-widget {
  margin-bottom: 20px;
}
button.code-folding-btn:focus {
  outline: none;
}
summary {
  display: list-item;
}
</style>


<style type="text/css">
/* padding for bootstrap navbar */
body {
  padding-top: 45px;
  padding-bottom: 40px;
}
/* offset scroll position for anchor links (for fixed navbar)  */
.section h1 {
  padding-top: 50px;
  margin-top: -50px;
}
.section h2 {
  padding-top: 50px;
  margin-top: -50px;
}
.section h3 {
  padding-top: 50px;
  margin-top: -50px;
}
.section h4 {
  padding-top: 50px;
  margin-top: -50px;
}
.section h5 {
  padding-top: 50px;
  margin-top: -50px;
}
.section h6 {
  padding-top: 50px;
  margin-top: -50px;
}
.dropdown-submenu {
  position: relative;
}
.dropdown-submenu>.dropdown-menu {
  top: 0;
  left: 100%;
  margin-top: -6px;
  margin-left: -1px;
  border-radius: 0 6px 6px 6px;
}
.dropdown-submenu:hover>.dropdown-menu {
  display: block;
}
.dropdown-submenu>a:after {
  display: block;
  content: " ";
  float: right;
  width: 0;
  height: 0;
  border-color: transparent;
  border-style: solid;
  border-width: 5px 0 5px 5px;
  border-left-color: #cccccc;
  margin-top: 5px;
  margin-right: -10px;
}
.dropdown-submenu:hover>a:after {
  border-left-color: #ffffff;
}
.dropdown-submenu.pull-left {
  float: none;
}
.dropdown-submenu.pull-left>.dropdown-menu {
  left: -100%;
  margin-left: 10px;
  border-radius: 6px 0 6px 6px;
}
</style>

<script>
// manage active state of menu based on current page
$(document).ready(function () {
  // active menu anchor
  href = window.location.pathname
  href = href.substr(href.lastIndexOf('/') + 1)
  if (href === "")
    href = "index.html";
  var menuAnchor = $('a[href="' + href + '"]');

  // mark it active
  menuAnchor.parent().addClass('active');

  // if it's got a parent navbar menu mark it active as well
  menuAnchor.closest('li.dropdown').addClass('active');
});
</script>

<!-- tabsets -->

<style type="text/css">
.tabset-dropdown > .nav-tabs {
  display: inline-table;
  max-height: 500px;
  min-height: 44px;
  overflow-y: auto;
  background: white;
  border: 1px solid #ddd;
  border-radius: 4px;
}

.tabset-dropdown > .nav-tabs > li.active:before {
  content: "";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li.active:before {
  content: "&#xe258;";
  border: none;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open:before {
  content: "";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs > li.active {
  display: block;
}

.tabset-dropdown > .nav-tabs > li > a,
.tabset-dropdown > .nav-tabs > li > a:focus,
.tabset-dropdown > .nav-tabs > li > a:hover {
  border: none;
  display: inline-block;
  border-radius: 4px;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li {
  display: block;
  float: none;
}

.tabset-dropdown > .nav-tabs > li {
  display: none;
}
</style>

<!-- code folding -->




</head>

<body>


<div class="container-fluid main-container">




<div class="navbar navbar-default  navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="index.html">HOME</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="scouting_a_team.html">Scouting an Athletics Team</a>
</li>
<li>
  <a href="basic_workflow.html">Basic Workflow</a>
</li>
<li>
  <a href="getting_sophisticated.html">Getting Sophisticated</a>
</li>
<li>
  <a href="your_turn.html">Your Turn</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        
      </ul>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

<div class="fluid-row" id="header">



<h1 class="title toc-ignore">Scouting an Athletics Team</h1>
<h4 class="author">Paul McGee</h4>
<h4 class="date">8/17/2020</h4>

</div>


<div id="using-the-dplyr-package-data-cleaning-functions-and-more-to-draft-and-compete-a-team-in-a-javelin-event." class="section level2">
<h2>Using the dplyr package, data cleaning, functions and more to draft and compete a team in a javelin event.</h2>
<p>This is a project that I did using track and field data using R to show which athletes I would want on my team, fantasy draft style. The event of interest I picked was the womens javelin.</p>
<p> <br />
 </p>
<div id="first-im-going-to-read-in-the-data." class="section level4">
<h4>First I’m going to read in the data.</h4>
<pre class="r"><code>head(data)</code></pre>
<pre><code>## # A tibble: 6 x 10
##   Event Male_Female EventID Athlete Flight1 Flight2 Flight3 Flight4 Flight5
##   &lt;chr&gt; &lt;chr&gt;         &lt;dbl&gt; &lt;chr&gt;     &lt;dbl&gt;   &lt;dbl&gt;   &lt;dbl&gt;   &lt;dbl&gt;   &lt;dbl&gt;
## 1 Shot~ Male              1 Ryan W~    21.3    21       0       0      21.8
## 2 Shot~ Male              1 Cory M~    20.8     0       0       0      20.6
## 3 Shot~ Male              1 Kurt R~    20.9    19.6     0       0       0  
## 4 Shot~ Male              1 Derric~    19.4     0       0       0      19.2
## 5 Shot~ Male              1 Jacob ~    18.4    18.9     0      19.1     0  
## 6 Shot~ Male              1 Rob Go~    18.5    18.3    18.6    18.4    19.2
## # ... with 1 more variable: Flight6 &lt;dbl&gt;</code></pre>
</div>
<div id="this-is-what-first-5-rows-of-the-uncleaned-data-looks-like." class="section level4">
<h4>This is what first 5 rows of the uncleaned data looks like.</h4>
<p> <br />
I’m going to clean it up a bit. The changes I’ll make include:</p>
<ol style="list-style-type: decimal">
<li><p>Male and Female are their own columns</p></li>
<li><p>Going to gather the data from wide to long so there is only 1 column for throws</p></li>
<li><p>Select the Womens Javelin event</p></li>
<li><p>Change the column labeled “Distance” to the data type to numeric to make later analysis easier</p></li>
</ol>
<pre><code>## # A tibble: 2 x 4
##   EventID Athlete         Flight Distance
##     &lt;dbl&gt; &lt;chr&gt;            &lt;dbl&gt;    &lt;dbl&gt;
## 1       8 Brittany Borman      1     54.0
## 2       8 Ariana Ince          1     49.0</code></pre>
<p> <br />
 </p>
</div>
<div id="the-next-step-is-to-create-the-total-results-for-each-event-for-each-athlete-as-well-as-create-some-summary-statistics-to-better-describe-their-performance." class="section level4">
<h4>The next step is to create the total results for each event for each athlete, as well as create some summary statistics to better describe their performance.</h4>
<p>These stats include total distance thrown, standard deviation of their throws and the number of successful throws they had.</p>
<pre class="r"><code>javelin_totals &lt;- javelin_long %&gt;%
  filter(Distance &gt; 0) %&gt;%
    group_by(Athlete, EventID) %&gt;%
      summarize(TotalDistance = sum(Distance), 
          StandardDev = round(sd(Distance),3),
              Success = n())</code></pre>
<p> <br />
 </p>
</div>
<div id="now-ill-find-the-difference-between-the-persons-last-3-and-first-3-throws-and-then-use-a-left-join-to-combine-this-data-with-the-javelin_total-data-frame." class="section level4">
<h4>Now I’ll find the difference between the persons last 3 and first 3 throws and then use a left join to combine this data with the javelin_total data frame.</h4>
<pre><code>## # A tibble: 5 x 5
## # Groups:   Athlete [1]
##   Athlete       TotalDistance StandardDev Success    diff
##   &lt;chr&gt;                 &lt;dbl&gt;       &lt;dbl&gt;   &lt;int&gt;   &lt;dbl&gt;
## 1 Abigail Gomez          152.        1.23       3  -52.9 
## 2 Abigail Gomez          244.        1.63       5  -48   
## 3 Abigail Gomez          207.        2.97       4 -110.  
## 4 Abigail Gomez          222.        1.30       4   -3.11
## 5 Abigail Gomez          155.        1.03       3   53.4</code></pre>
<p> <br />
 </p>
</div>
<div id="lets-normalize-the-summary-statistics-so-they-can-be-properly-compared." class="section level4">
<h4>Let’s normalize the summary statistics so they can be properly compared.</h4>
<p>The goal of normalization is to change the values of numeric columns in the dataset to a common scale, without distorting differences in the ranges of values so that they can be used for comparison.</p>
<pre class="r"><code>#function to normalize summary stats

norm &lt;- function(result) {
    (result - min(result)) / (max(result) - min(result))
}

aggstats &lt;- c(&quot;TotalDistance&quot;, &quot;StandardDev&quot;, &quot;Success&quot;, &quot;diff&quot;)

javelin_norm &lt;- javelin_totals %&gt;%
  ungroup() %&gt;%
    mutate_at(aggstats, norm) %&gt;%
      group_by(Athlete) %&gt;%
        summarize_all(funs(mean))</code></pre>
<pre><code>## Warning: funs() is soft deprecated as of dplyr 0.8.0
## Please use a list of either functions or lambdas: 
## 
##   # Simple named list: 
##   list(mean = mean, median = median)
## 
##   # Auto named with `tibble::lst()`: 
##   tibble::lst(mean, median)
## 
##   # Using lambdas
##   list(~ mean(., trim = .2), ~ median(., na.rm = TRUE))
## This warning is displayed once per session.</code></pre>
<p> <br />
 </p>
</div>
<div id="to-determine-who-the-best-athletes-are-lets-assign-weights-to-the-athletes-for-their-distance-standard-deviation-of-distance-if-they-were-successful-in-their-throw-and-the-difference-in-their-throws.-weights-sum-to-10." class="section level4">
<h4>To determine who the best athletes are, let’s assign weights to the athletes for their distance, standard deviation of distance, if they were successful in their throw and the difference in their throws. Weights sum to 10.</h4>
<pre class="r"><code>weights &lt;- c(3.5, 2, 3, 1.5)

#creating total score by multiplying columns by their weights
javelin_team &lt;- javelin_norm %&gt;%
mutate(TotalScore = TotalDistance * weights[1] + StandardDev * weights[2] +
       Success + weights[3] + diff * weights[4]) %&gt;%
arrange(desc(TotalScore))</code></pre>
<p> <br />
 </p>
</div>
<div id="were-going-to-cheat-a-bit-and-take-the-top-five-athletes-for-our-team.-once-we-have-our-team-lets-have-a-look-at-their-stats." class="section level4">
<h4>We’re going to cheat a bit and take the top five athletes for our team. Once we have our team, let’s have a look at their stats.</h4>
<pre class="r"><code>#selecting first five rows to pick athletes for our team
javelin_team&lt;- javelin_team[1:5,]
javelin_team

#Selecting athlete names from our team
head(javelin_totals,1)
Ath &lt;- javelin_team$Athlete

#Compiling our teams stats 
team_stats &lt;- javelin_totals %&gt;% 
  filter(Athlete %in% Ath) %&gt;%
    summarize_all(funs(mean))</code></pre>
<p>And here’s our team.</p>
<pre><code>## # A tibble: 5 x 5
##   Athlete             TotalDistance StandardDev Success  diff
##   &lt;chr&gt;                       &lt;dbl&gt;       &lt;dbl&gt;   &lt;dbl&gt; &lt;dbl&gt;
## 1 Alicia DeShasier             288.        1.98    5.33 38.1 
## 2 Dominique Ouellette          299.        2.91    6     2.88
## 3 Heather Bergmann             283.        2.28    6     2.41
## 4 Madalaine Stulce             275.        4.47    6    -6.42
## 5 Maggie Malone                293.        2.00    5    61.1</code></pre>
<p> <br />
 </p>
</div>
<div id="now-lets-select-random-athletes-from-athletes-not-on-our-team-to-play-against-us.-were-going-to-create-a-fake-meet-to-see-if-our-teams-total-would-be-higher-than-the-others." class="section level4">
<h4>Now, let’s select random athletes from athletes not on our team to play against us. We’re going to create a fake meet to see if our teams total would be higher than the others.</h4>
<pre class="r"><code>set.seed(77)
home &lt;- c(2,3,5)
away &lt;- sample(1:nrow(javelin_totals), 3, replace=FALSE)

HomeTeam &lt;- round(sum(team_stats$TotalDistance[home]),2)
AwayTeam &lt;- round(sum(javelin_totals$TotalDistance[away]),2)

print(paste0(&quot;Javelin match, Final Score: &quot;, HomeTeam, &quot; - &quot;, AwayTeam))</code></pre>
<pre><code>## [1] &quot;Javelin match, Final Score: 875.57 - 618.64&quot;</code></pre>
<pre class="r"><code>ifelse(HomeTeam &gt; AwayTeam, print(&quot;Your team won the match!&quot;), print(&quot;Sorry, you lost.&quot;))</code></pre>
<pre><code>## [1] &quot;Your team won the match!&quot;</code></pre>
<pre><code>## [1] &quot;Your team won the match!&quot;</code></pre>
</div>
<div id="since-we-had-the-best-team-unsurprisingly-our-team-won-the-match." class="section level4">
<h4>Since we had the best team, unsurprisingly our team won the match.</h4>
<p><br></p>
</div>
</div>




</div>

<script>

// add bootstrap table styles to pandoc tables
function bootstrapStylePandocTables() {
  $('tr.header').parent('thead').parent('table').addClass('table table-condensed');
}
$(document).ready(function () {
  bootstrapStylePandocTables();
});


</script>

<!-- tabsets -->

<script>
$(document).ready(function () {
  window.buildTabsets("TOC");
});

$(document).ready(function () {
  $('.tabset-dropdown > .nav-tabs > li').click(function () {
    $(this).parent().toggleClass('nav-tabs-open')
  });
});
</script>

<!-- code folding -->


<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
