<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">

<head>

<meta charset="utf-8" />
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="generator" content="pandoc" />
<meta http-equiv="X-UA-Compatible" content="IE=EDGE" />


<meta name="author" content="Paul McGee" />


<title>Scouting an Athletics Team</title>

<script src="site_libs/jquery-1.11.3/jquery.min.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link href="site_libs/bootstrap-3.3.5/css/yeti.min.css" rel="stylesheet" />
<script src="site_libs/bootstrap-3.3.5/js/bootstrap.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/html5shiv.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/respond.min.js"></script>
<script src="site_libs/jqueryui-1.11.4/jquery-ui.min.js"></script>
<link href="site_libs/tocify-1.9.1/jquery.tocify.css" rel="stylesheet" />
<script src="site_libs/tocify-1.9.1/jquery.tocify.js"></script>
<script src="site_libs/navigation-1.1/tabsets.js"></script>
<link href="site_libs/highlightjs-9.12.0/textmate.css" rel="stylesheet" />
<script src="site_libs/highlightjs-9.12.0/highlight.js"></script>

<style type="text/css">code{white-space: pre;}</style>
<style type="text/css">
  pre:not([class]) {
    background-color: white;
  }
</style>
<script type="text/javascript">
if (window.hljs) {
  hljs.configure({languages: []});
  hljs.initHighlightingOnLoad();
  if (document.readyState && document.readyState === "complete") {
    window.setTimeout(function() { hljs.initHighlighting(); }, 0);
  }
}
</script>



<style type="text/css">
h1 {
  font-size: 34px;
}
h1.title {
  font-size: 38px;
}
h2 {
  font-size: 30px;
}
h3 {
  font-size: 24px;
}
h4 {
  font-size: 18px;
}
h5 {
  font-size: 16px;
}
h6 {
  font-size: 12px;
}
.table th:not([align]) {
  text-align: left;
}
</style>




<style type = "text/css">
.main-container {
  max-width: 940px;
  margin-left: auto;
  margin-right: auto;
}
code {
  color: inherit;
  background-color: rgba(0, 0, 0, 0.04);
}
img {
  max-width:100%;
}
.tabbed-pane {
  padding-top: 12px;
}
.html-widget {
  margin-bottom: 20px;
}
button.code-folding-btn:focus {
  outline: none;
}
summary {
  display: list-item;
}
</style>


<style type="text/css">
/* padding for bootstrap navbar */
body {
  padding-top: 45px;
  padding-bottom: 40px;
}
/* offset scroll position for anchor links (for fixed navbar)  */
.section h1 {
  padding-top: 50px;
  margin-top: -50px;
}
.section h2 {
  padding-top: 50px;
  margin-top: -50px;
}
.section h3 {
  padding-top: 50px;
  margin-top: -50px;
}
.section h4 {
  padding-top: 50px;
  margin-top: -50px;
}
.section h5 {
  padding-top: 50px;
  margin-top: -50px;
}
.section h6 {
  padding-top: 50px;
  margin-top: -50px;
}
.dropdown-submenu {
  position: relative;
}
.dropdown-submenu>.dropdown-menu {
  top: 0;
  left: 100%;
  margin-top: -6px;
  margin-left: -1px;
  border-radius: 0 6px 6px 6px;
}
.dropdown-submenu:hover>.dropdown-menu {
  display: block;
}
.dropdown-submenu>a:after {
  display: block;
  content: " ";
  float: right;
  width: 0;
  height: 0;
  border-color: transparent;
  border-style: solid;
  border-width: 5px 0 5px 5px;
  border-left-color: #cccccc;
  margin-top: 5px;
  margin-right: -10px;
}
.dropdown-submenu:hover>a:after {
  border-left-color: #ffffff;
}
.dropdown-submenu.pull-left {
  float: none;
}
.dropdown-submenu.pull-left>.dropdown-menu {
  left: -100%;
  margin-left: 10px;
  border-radius: 6px 0 6px 6px;
}
</style>

<script>
// manage active state of menu based on current page
$(document).ready(function () {
  // active menu anchor
  href = window.location.pathname
  href = href.substr(href.lastIndexOf('/') + 1)
  if (href === "")
    href = "index.html";
  var menuAnchor = $('a[href="' + href + '"]');

  // mark it active
  menuAnchor.parent().addClass('active');

  // if it's got a parent navbar menu mark it active as well
  menuAnchor.closest('li.dropdown').addClass('active');
});
</script>

<!-- tabsets -->

<style type="text/css">
.tabset-dropdown > .nav-tabs {
  display: inline-table;
  max-height: 500px;
  min-height: 44px;
  overflow-y: auto;
  background: white;
  border: 1px solid #ddd;
  border-radius: 4px;
}

.tabset-dropdown > .nav-tabs > li.active:before {
  content: "";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li.active:before {
  content: "&#xe258;";
  border: none;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open:before {
  content: "";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs > li.active {
  display: block;
}

.tabset-dropdown > .nav-tabs > li > a,
.tabset-dropdown > .nav-tabs > li > a:focus,
.tabset-dropdown > .nav-tabs > li > a:hover {
  border: none;
  display: inline-block;
  border-radius: 4px;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li {
  display: block;
  float: none;
}

.tabset-dropdown > .nav-tabs > li {
  display: none;
}
</style>

<!-- code folding -->



<style type="text/css">

#TOC {
  margin: 25px 0px 20px 0px;
}
@media (max-width: 768px) {
#TOC {
  position: relative;
  width: 100%;
}
}


.toc-content {
  padding-left: 30px;
  padding-right: 40px;
}

div.main-container {
  max-width: 1200px;
}

div.tocify {
  width: 20%;
  max-width: 260px;
  max-height: 85%;
}

@media (min-width: 768px) and (max-width: 991px) {
  div.tocify {
    width: 25%;
  }
}

@media (max-width: 767px) {
  div.tocify {
    width: 100%;
    max-width: none;
  }
}

.tocify ul, .tocify li {
  line-height: 20px;
}

.tocify-subheader .tocify-item {
  font-size: 0.90em;
}

.tocify .list-group-item {
  border-radius: 0px;
}


</style>



</head>

<body>


<div class="container-fluid main-container">


<!-- setup 3col/9col grid for toc_float and main content  -->
<div class="row-fluid">
<div class="col-xs-12 col-sm-4 col-md-3">
<div id="TOC" class="tocify">
</div>
</div>

<div class="toc-content col-xs-12 col-sm-8 col-md-9">




<div class="navbar navbar-default  navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="index.html">HOME</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="scouting_a_team.html">Scouting an Athletics Team</a>
</li>
<li>
  <a href="Heart_disease.html">Cleveland Heart Disease Project</a>
</li>
<li>
  <a href="glassdoor_analysis.html">Job Posts Analysis</a>
</li>
<li>
  <a href="ins_regression.html">Medical Expense Regression</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        
      </ul>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

<div class="fluid-row" id="header">



<h1 class="title toc-ignore">Scouting an Athletics Team</h1>
<h4 class="author">Paul McGee</h4>
<h4 class="date">8/17/2020</h4>

</div>


<div id="using-the-dplyr-package-data-cleaning-functions-and-more-to-draft-and-compete-a-team-in-a-javelin-event." class="section level2">
<h2>Using the dplyr package, data cleaning, functions and more to draft and compete a team in a javelin event.</h2>
<p>This is a project that I did using track and field data using R to show which athletes I would want on my team, fantasy draft style. The event of interest I picked was the women’s javelin.</p>
<p> </p>
<div id="reading-in-the-data." class="section level3">
<h3><strong>1. Reading in the data.</strong></h3>
<pre class="r"><code>head(data)</code></pre>
<pre><code>## # A tibble: 6 x 10
##   Event Male_Female EventID Athlete Flight1 Flight2 Flight3 Flight4 Flight5
##   &lt;chr&gt; &lt;chr&gt;         &lt;dbl&gt; &lt;chr&gt;     &lt;dbl&gt;   &lt;dbl&gt;   &lt;dbl&gt;   &lt;dbl&gt;   &lt;dbl&gt;
## 1 Shot~ Male              1 Ryan W~    21.3    21       0       0      21.8
## 2 Shot~ Male              1 Cory M~    20.8     0       0       0      20.6
## 3 Shot~ Male              1 Kurt R~    20.9    19.6     0       0       0  
## 4 Shot~ Male              1 Derric~    19.4     0       0       0      19.2
## 5 Shot~ Male              1 Jacob ~    18.4    18.9     0      19.1     0  
## 6 Shot~ Male              1 Rob Go~    18.5    18.3    18.6    18.4    19.2
## # ... with 1 more variable: Flight6 &lt;dbl&gt;</code></pre>
<div id="this-is-what-first-5-rows-of-the-uncleaned-data-looks-like." class="section level4">
<h4>This is what first 5 rows of the uncleaned data looks like.</h4>
<p> <br />
I’m going to clean it up a bit. The changes I’ll make include:</p>
<ol style="list-style-type: decimal">
<li><p>Male and Female are their own columns</p></li>
<li><p>Going to gather the data from wide to long so there is only 1 column for throws</p></li>
<li><p>Select the Womens Javelin event</p></li>
<li><p>Change the column labeled “Distance” to the data type to numeric to make later analysis easier</p></li>
</ol>
<pre><code>## # A tibble: 2 x 4
##   EventID Athlete         Flight Distance
##     &lt;dbl&gt; &lt;chr&gt;            &lt;dbl&gt;    &lt;dbl&gt;
## 1       8 Brittany Borman      1     54.0
## 2       8 Ariana Ince          1     49.0</code></pre>
<p> </p>
</div>
</div>
<div id="creating-sumary-statistics-and-creating-new-columns" class="section level3">
<h3><strong>2. Creating sumary statistics and creating new columns</strong></h3>
<p>The next step is to create the total results for each event for each athlete, as well as create some summary statistics to better describe their performance.</p>
<p>These stats include total distance thrown, standard deviation of their throws and the number of successful throws they had.</p>
<pre class="r"><code>javelin_totals &lt;- javelin_long %&gt;%
  filter(Distance &gt; 0) %&gt;%
    group_by(Athlete, EventID) %&gt;%
      summarize(TotalDistance = sum(Distance), 
          StandardDev = round(sd(Distance),3),
              Success = n())</code></pre>
<pre><code>## `summarise()` regrouping output by &#39;Athlete&#39; (override with `.groups` argument)</code></pre>
<p> </p>
<div id="now-ill-find-the-difference-between-the-persons-last-3-and-first-3-throws-and-then-use-a-left-join-to-combine-this-data-with-the-javelin_total-data-frame." class="section level4">
<h4>Now I’ll find the difference between the persons last 3 and first 3 throws and then use a left join to combine this data with the javelin_total data frame.</h4>
<pre class="r"><code># Create first_3, last_3, and diff between the two
javelin &lt;- javelin %&gt;% mutate(first_3 = Flight1 + Flight2 + Flight3 , last_3 = Flight4 + Flight5 + Flight6, diff = last_3 - first_3)

#Select columns to to keep from javelin and javelin totals
keep &lt;- c(&quot;Athlete&quot;, &quot;TotalDistance&quot;, &quot;StandardDev&quot;, &quot;Success&quot;, &quot;diff&quot;)
javelin_totals &lt;- left_join(javelin_totals, javelin, by = c(&quot;EventID&quot;, &quot;Athlete&quot;), all.x = T) %&gt;% subset( select = keep)
head(javelin_totals, 5)</code></pre>
<p> </p>
</div>
</div>
<div id="normalizing-the-data-for-easier-comparison" class="section level3">
<h3><strong>3. Normalizing the data for easier comparison</strong></h3>
<p>I’ll normalize the summary statistics so they can be properly compared. The goal of normalization is to change the values of numeric columns in the dataset to a common scale, without distorting differences in the ranges of values so that they can be used for comparison.</p>
<pre class="r"><code>#function to normalize summary stats

norm &lt;- function(result) {
    (result - min(result)) / (max(result) - min(result))
}

aggstats &lt;- c(&quot;TotalDistance&quot;, &quot;StandardDev&quot;, &quot;Success&quot;, &quot;diff&quot;)

javelin_norm &lt;- javelin_totals %&gt;%
  ungroup() %&gt;%
    mutate_at(aggstats, norm) %&gt;%
      group_by(Athlete) %&gt;%
        summarize_all(funs(mean))</code></pre>
<p> </p>
</div>
<div id="assigning-weights-to-athletes-statistics" class="section level3">
<h3><strong>4. Assigning weights to Athletes statistics</strong></h3>
<p>To determine who the best athletes are, let’s assign weights to the athletes for their distance, standard deviation of distance, if they were successful in their throw and the difference in their throws. Weights sum to 10. More weight placed in a statistic means it is more important.</p>
<pre class="r"><code>weights &lt;- c(3.5, 2, 3, 1.5)

#creating total score by multiplying columns by their weights
javelin_team &lt;- javelin_norm %&gt;%
mutate(TotalScore = TotalDistance * weights[1] + StandardDev * weights[2] +
       Success + weights[3] + diff * weights[4]) %&gt;%
arrange(desc(TotalScore))</code></pre>
<p> </p>
</div>
<div id="picking-our-team" class="section level3">
<h3><strong>5. Picking our team</strong></h3>
<p>I’m going to take the top five athletes for our team from the dataframe we created by assigning the weights. Once we have our team, let’s have a look at their stats.</p>
<pre class="r"><code>#selecting first five rows to pick athletes for our team
javelin_team&lt;- javelin_team[1:5,]
javelin_team

#Selecting athlete names from our team
head(javelin_totals,1)
Ath &lt;- javelin_team$Athlete

#Compiling our teams stats 
team_stats &lt;- javelin_totals %&gt;% 
  filter(Athlete %in% Ath) %&gt;%
    summarize_all(funs(mean))</code></pre>
<p>And here’s our team with their stats compared to that off the maximum and average of all athletes.</p>
<pre><code>## # A tibble: 5 x 5
##   Athlete             TotalDistance StandardDev Success  diff
##   &lt;chr&gt;                       &lt;dbl&gt;       &lt;dbl&gt;   &lt;dbl&gt; &lt;dbl&gt;
## 1 Alicia DeShasier             288.        1.98    5.33 38.1 
## 2 Dominique Ouellette          299.        2.91    6     2.88
## 3 Heather Bergmann             283.        2.28    6     2.41
## 4 Madalaine Stulce             275.        4.47    6    -6.42
## 5 Maggie Malone                293.        2.00    5    61.1</code></pre>
<pre><code>##    MaxAve     Statistic  Aggregate
## 1 Maximum TotalDistance 362.540000
## 2 Average TotalDistance 222.048483
## 3 Maximum   StandardDev   5.994000
## 4 Average   StandardDev   2.056079
## 5 Maximum       Success   6.000000
## 6 Average       Success   4.432584
## 7 Maximum          diff 110.340000
## 8 Average          diff  -7.720056</code></pre>
<p> </p>
</div>
<div id="how-does-my-team-stack-up-against-the-rest-of-the-field" class="section level3">
<h3><strong>6. How does my team stack up against the rest of the field?</strong></h3>
<p>I’ll see how my teams stats compares to the maximum and average of distance thrown as well as the maximum and average of the difference in an athletes last three and first three throws. In a business setting, I could use these plots of their stats to justify why I would want these athletes on my team. We can see all our athletes throw well above the average, with two of our athletes throwing longer on their last three then first three throws. We could say these are our “clutch” players.</p>
<p>The maximum stat is represented by the solid line and the average by the dashed.</p>
<p><img src="scouting_a_team_files/figure-html/unnamed-chunk-13-1.png" width="672" /><img src="scouting_a_team_files/figure-html/unnamed-chunk-13-2.png" width="672" /></p>
</div>
<div id="simulating-a-meet-between-my-team-and-another" class="section level3">
<h3><strong>7. Simulating a meet between my team and another</strong></h3>
<p>Now, let’s select random athletes from athletes not on our team to play against us. We’re going to create a fake meet to see if our teams total would be higher than the others.</p>
<pre class="r"><code>set.seed(77)
home &lt;- c(2,3,5)
away &lt;- sample(1:nrow(javelin_totals), 3, replace=FALSE)

HomeTeam &lt;- round(sum(team_stats$TotalDistance[home]),2)
AwayTeam &lt;- round(sum(javelin_totals$TotalDistance[away]),2)

print(paste0(&quot;Javelin match, Final Score: &quot;, HomeTeam, &quot; - &quot;, AwayTeam))</code></pre>
<pre><code>## [1] &quot;Javelin match, Final Score: 875.57 - 618.64&quot;</code></pre>
<pre class="r"><code>ifelse(HomeTeam &gt; AwayTeam, print(&quot;Your team won the match!&quot;), print(&quot;Sorry, you lost.&quot;))</code></pre>
<pre><code>## [1] &quot;Your team won the match!&quot;</code></pre>
<pre><code>## [1] &quot;Your team won the match!&quot;</code></pre>
<div id="our-team-won-the-match" class="section level4">
<h4>Our team won the match!</h4>
<p><br></p>
</div>
</div>
</div>



</div>
</div>

</div>

<script>

// add bootstrap table styles to pandoc tables
function bootstrapStylePandocTables() {
  $('tr.header').parent('thead').parent('table').addClass('table table-condensed');
}
$(document).ready(function () {
  bootstrapStylePandocTables();
});


</script>

<!-- tabsets -->

<script>
$(document).ready(function () {
  window.buildTabsets("TOC");
});

$(document).ready(function () {
  $('.tabset-dropdown > .nav-tabs > li').click(function () {
    $(this).parent().toggleClass('nav-tabs-open')
  });
});
</script>

<!-- code folding -->

<script>
$(document).ready(function ()  {

    // move toc-ignore selectors from section div to header
    $('div.section.toc-ignore')
        .removeClass('toc-ignore')
        .children('h1,h2,h3,h4,h5').addClass('toc-ignore');

    // establish options
    var options = {
      selectors: "h1,h2,h3",
      theme: "bootstrap3",
      context: '.toc-content',
      hashGenerator: function (text) {
        return text.replace(/[.\\/?&!#<>]/g, '').replace(/\s/g, '_').toLowerCase();
      },
      ignoreSelector: ".toc-ignore",
      scrollTo: 0
    };
    options.showAndHide = true;
    options.smoothScroll = true;

    // tocify
    var toc = $("#TOC").tocify(options).data("toc-tocify");
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
